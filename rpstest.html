<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Rock, Paper, Scissors</title>
    <style>
       *{margin:0;padding:0;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}::selection{background:#fb9fe5;text-shadow:none}a{color:#0088CC;text-decoration:none;outline:0}a:hover{color:#005580}a img{border:none}img{max-width:100%}html{font-size:100%}body{padding:5%;font:300 1.25em/1.6 monospace;background:#fff;color:#000;}h1{font-family:"Helvetica Neue",sans-serif;line-height:1;font-weight:300;margin-bottom:1em;}.game{padding:2em;background:#eee;}
    </style>
</head>
<body>

<h1>INFORMED BOT</h1>

<div class="game">
    Enter hand: <input type="text" id="myHand">
    <button onclick="enterHand()">Enter</button>
    <p id="disp"></p>

    <script>
        var userChoice
        var computerChoice

        //store your last choice
        var historyChoice
        //temporarily store current win/loss condition
        var curWin
        //store win/loss for next round
        var historyWin

        function enterHand(){
          userChoice = document.getElementById("myHand").value;


        computerChoice = Math.random();
        if (computerChoice < 0.34) {
            computerChoice = "r";
        } else if(computerChoice <= 0.67) {
            computerChoice = "p";
        } else {
            computerChoice = "s";
        }

        if (historyChoice === "r" && historyWin === false){
          computerChoice = "r";
        } else if(historyChoice === "p" && historyWin === false){
          computerChoice = "p";
        } else if(historyChoice === "s" && historyWin === false){
          computerChoice = "s";
        } else if(historyChoice === "r" && historyWin === true){
          computerChoice = "p";
        } else if(historyChoice === "p" && historyWin === true){
          computerChoice = "s";
        } else if(historyChoice === "s" && historyWin === true){
          computerChoice = "r";
        } else{
          computerChoice = "r";
        }






        //compares choice1 (your choice) to choice2 (bot's choice)
          var compare = function(choice1,choice2) {
              if (choice1 === choice2) {
                curWin = null;
                return "It's a tie!";}
              if (choice1 === "r") {
                  if (choice2 === "s") {
                    curWin = true;
                    return "You win!";}
                  else {
                    curWin = false;
                    return "You lose!";}
              }
              if (choice1 === "p") {
                  if (choice2 === "r") {
                    curWin = true;
                    return "You win!";}
                  else {
                    curWin = false;
                    return "You lose!";}
              }
              if (choice1 === "s") {
                  if (choice2 === "r") {
                    curWin = false;
                    return "You lose!";}
                  else {
                    curWin = true;
                    return "You win!";}
              }
          };


          var results = compare(userChoice,computerChoice);
          var printres = ("Last round won? "+historyWin+"<br>Last pick: "+historyChoice+"<br>Your hand: "+userChoice+"<br>Bot's hand: "+computerChoice+"<br>"+results)

          //assign historical values for next round
          historyChoice = userChoice;
          historyWin = curWin
          document.getElementById("disp").innerHTML = printres;
        }

    </script>

</div>

</body>
</html>
